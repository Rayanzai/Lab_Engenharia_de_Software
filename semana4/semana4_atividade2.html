<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 4 - Atividade 2 - Rayan Anzai</title>
</head>
<body>

    <h1>Atividade 2 - Forms Carro</h1>
    <form action="">
        <label for="marca">Marca: </label>
        <input type="text" id="marca" name="marca">

        <label for="modelo">Modelo: </label>
        <input type="text" id="modelo" name="modelo">

        <label for="ano">Ano: </label>
        <input type="number" id="ano" name="ano">
       
        <label for="cor">Cor: </label>
        <input type="text" id="cor" name="cor">

        <label for="kilometragem">Kilometragem: </label>
        <input type="number" id="km" name="km">

        <label for="valor_fipe">Valor tabela FIPE:</label>
        <input type="number" id="valor_fipe" name="valor_fipe">


        <button type="button" onclick="resultado()">Calcular </button>
    </form>

    <p id="exibeAno"> </p>
    <p id="exibeFipe"> </p>


    <script>
        // OBJETO
        function Carro(marca, modelo, ano, cor, km, valor_fipe){
            // ATRIBUTOS
            this.marca = marca;
            this.modelo = modelo;
            this.ano = ano;
            this.cor = cor;
            this.km = km;
            this.valor_fipe = valor_fipe;

            // METODOS
            this.anosUtilizacao = function() {
                const anoAtual = new Date().getFullYear();
                return anoAtual - this.ano;
            };

            this.valorMercado = function() {
                if (this.km <= 30000 && this.km > 0){
                    return this.valor_fipe * (110 /100);
                }
                else if(this.km > 30000 && this.km <= 50000){
                    return this.valor_fipe * (100 /100);
                }
                else if(this.km > 50000){
                    return this.valor_fipe * (90 / 100);
                }
                else if(this.km < 0){
                    return "Valor inválido";
                }
            }
            
        }

        function resultado(){
            const marca = document.getElementById("marca").value;
            const modelo = document.getElementById("modelo").value;
            const ano = parseInt(document.getElementById("ano").value);
            const cor = document.getElementById("cor").value;
            const km = parseInt(document.getElementById("km").value);
            const valor_fipe = parseFloat(document.getElementById("valor_fipe").value);

            var car = new Carro(marca, modelo, ano, cor, km, valor_fipe);

            // console.log(car.anosUtilizacao());
            // console.log(car.valorMercado());
            
            // EXIBE NA PÁGINA
            var exibirResultado = document.getElementById("exibeAno");
            exibirResultado.innerHTML = `Anos de Utilização: ${car.anosUtilizacao()} anos`;
            
            var exibeResultado2 = document.getElementById("exibeFipe");
            exibeResultado2.innerHTML = `Valor de Mercado: R$ ${car.valorMercado().toFixed(2)}`

        }
    </script>
</body>
</html>